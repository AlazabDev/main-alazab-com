# ุชูุฑูุฑ ุชูุธูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
**ุงูุชุงุฑูุฎ:** 2025-10-25  
**ุงูุฅุตุฏุงุฑ:** 1.0

## ููุฎุต ุชูููุฐู

ุชู ุชูุธูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฅุฒุงูุฉ **17 ุฌุฏูู** ุบูุฑ ูุณุชุฎุฏู ุฃู ููุฑุฑุ ูุน ุงูุญูุงุธ ุนูู **45 ุฌุฏูู** ุฃุณุงุณู ูููุธุงู.

---

## ุงูุฌุฏุงูู ุงููุญุฐููุฉ

### 1๏ธโฃ ุฌุฏุงูู ูุคูุชุฉ ูุบูุฑ ูุณุชุฎุฏูุฉ (5)
- `_temp_approvers` - ุฌุฏูู ูุคูุช ููุงุฎุชุจุงุฑ
- `appointments_staff_view` - ูุญููุฉ ุฅูู VIEW
- `project_tasks` - ุบูุฑ ูุณุชุฎุฏูุฉ ูู ุงูููุฏ
- `status_defs` - ุชุนุฑููุงุช ุญุงูุงุช ููุฑุฑุฉ
- `status_transitions` - ุงูุชูุงูุงุช ุบูุฑ ูุณุชุฎุฏูุฉ

### 2๏ธโฃ ุฌุฏุงูู ุงููููุงุช (4)
- `mall_branches` - ูุธุงู ูููุงุช ุบูุฑ ููุนู
- `mall_tenants` - ุบูุฑ ูุณุชุฎุฏู
- `malls` - ุบูุฑ ูุณุชุฎุฏู
- `stores` - ููุฑุฑ ูุน branches

### 3๏ธโฃ ุฌุฏุงูู ููุฑุฑุฉ (2)
- `quick_maintenance_requests` - ููุฑุฑ ูุน maintenance_requests
- `request_status_history` - ููุฑุฑ ูุน request_lifecycle

### 4๏ธโฃ ุฌุฏุงูู ุชุณุนูุฑ ููุฑุฑุฉ (2)
- `service_price_tiers` - ูููู ุฏูุฌูุง ูู services
- `service_prices` - ูููู ุฏูุฌูุง ูู services

### 5๏ธโฃ ุฌุฏุงูู ุบูุฑ ูุณุชุฎุฏูุฉ (2)
- `units` - ูุญุฏุงุช ููุงุณ ุบูุฑ ูุณุชุฎุฏูุฉ
- `regions` - ูุญููุฉ ุฅูู PropertyForm ูุจุงุดุฑุฉ

### 6๏ธโฃ ุฌุฏูู ูุญูู ุฅูู VIEW (1)
- `appointments_staff_secure` โ ุงูุขู VIEW ูุน ุญูุงูุฉ ุงูุจูุงูุงุช

---

## ุงูุฌุฏุงูู ุงููุญุชูุธ ุจูุง (45 ุฌุฏูู)

### ๐ ุฌุฏุงูู ุงูุตูุงูุฉ ุงูุฑุฆูุณูุฉ
1. `maintenance_requests` - ุทูุจุงุช ุงูุตูุงูุฉ
2. `request_lifecycle` - ุฏูุฑุฉ ุญูุงุฉ ุงูุทูุจ
3. `request_events` - ุฃุญุฏุงุซ ุงูุทูุจุงุช
4. `request_lines` - ุชูุงุตูู ุจููุฏ ุงูุทูุจุงุช
5. `request_reviews` - ุชููููุงุช ุงูุทูุจุงุช
6. `request_approvals` - ููุงููุงุช ุงูุทูุจุงุช
7. `request_attachments` - ูุฑููุงุช ุงูุทูุจุงุช
8. `work_tasks` - ููุงู ุงูุนูู
9. `sla_policies` - ุณูุงุณุงุช SLA

### ๐ฅ ุฌุฏุงูู ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช
10. `profiles` - ูููุงุช ุงููุณุชุฎุฏููู
11. `user_roles` - ุฃุฏูุงุฑ ุงููุณุชุฎุฏููู
12. `platform_permissions` - ุตูุงุญูุงุช ูุฎุตุตุฉ
13. `app_roles` - ููุชูุงูู ุงููุฏูู (Deprecated)

### ๐ข ุฌุฏุงูู ุงููุคุณุณุงุช
14. `companies` - ุงูุดุฑูุงุช
15. `branches` - ุงููุฑูุน
16. `assets` - ุงูุฃุตูู

### ๐ ุฌุฏุงูู ุงูุนูุงุฑุงุช ูุงูููุงุนูุฏ
17. `properties` - ุงูุนูุงุฑุงุช
18. `appointments` - ุงูููุงุนูุฏ

### ๐๏ธ ุฌุฏุงูู ุงูุฎุฏูุงุช ูุงูููุฑุฏูู
19. `services` - ุงูุฎุฏูุงุช
20. `categories` - ุงูุชุตูููุงุช
21. `subcategories` - ุงูุชุตูููุงุช ุงููุฑุนูุฉ
22. `service_categories` - ุฑุจุท ุงูุฎุฏูุงุช ุจุงูุชุตูููุงุช
23. `service_subcategories` - ุงูุชุตูููุงุช ุงููุฑุนูุฉ
24. `service_checklists` - ููุงุฆู ูุญุต ุงูุฎุฏูุงุช
25. `maintenance_services` - ุฎุฏูุงุช ุงูุตูุงูุฉ
26. `vendors` - ุงูููุฑุฏูู
27. `vendor_locations` - ููุงูุน ุงูููุฑุฏูู
28. `internal_teams` - ุงููุฑู ุงูุฏุงุฎููุฉ

### ๐ฐ ุฌุฏุงูู ุงููุงููุฉ
29. `invoices` - ุงูููุงุชูุฑ
30. `invoice_items` - ุจููุฏ ุงูููุงุชูุฑ
31. `expenses` - ุงููุตุฑููุงุช
32. `payments` - ุงููุฏููุนุงุช

### ๐ฆ ุฌุฏุงูู ุงูููุงุฏ ูุงููุทุน
33. `materials` - ุงูููุงุฏ
34. `material_requests` - ุทูุจุงุช ุงูููุงุฏ
35. `parts_orders` - ุทูุจุงุช ูุทุน ุงูุบูุงุฑ

### ๐ ุฌุฏุงูู ุงููุดุงุฑูุน
36. `projects` - ุงููุดุงุฑูุน
37. `project_phases` - ูุฑุงุญู ุงููุดุงุฑูุน
38. `project_updates` - ุชุญุฏูุซุงุช ุงููุดุงุฑูุน
39. `project_gallery` - ุตูุฑ ุงููุดุงุฑูุน
40. `project_reviews` - ุชููููุงุช ุงููุดุงุฑูุน
41. `project_documents` - ูุณุชูุฏุงุช ุงููุดุงุฑูุน
42. `project_views` - ูุดุงูุฏุงุช ุงููุดุงุฑูุน

### ๐ ุฌุฏุงูู ุงููุธุงู
43. `notifications` - ุงูุฅุดุนุงุฑุงุช
44. `audit_logs` - ุณุฌู ุงูุชุฏููู
45. `error_logs` - ุณุฌู ุงูุฃุฎุทุงุก
46. `gallery_images` - ูุนุฑุถ ุงูุตูุฑ
47. `comments` - ุงูุชุนูููุงุช
48. `maintenance_reports` - ุชูุงุฑูุฑ ุงูุตูุงูุฉ
49. `system_settings` - ุฅุนุฏุงุฏุงุช ุงููุธุงู
50. `user_preferences` - ุชูุถููุงุช ุงููุณุชุฎุฏู

---

## ุงูุชุญุณููุงุช ุงููุทุจูุฉ

### ๐ Indexes ูุญุณูุฉ
```sql
-- ุทูุจุงุช ุงูุตูุงูุฉ
idx_maintenance_requests_company_status (company_id, status, created_at)
idx_maintenance_requests_workflow (workflow_stage, priority)

-- ุงูููุงุนูุฏ
idx_appointments_date (appointment_date, appointment_time)

-- ุฏูุฑุฉ ุญูุงุฉ ุงูุทูุจุงุช
idx_request_lifecycle_request (request_id, created_at)

-- ุงููุตุฑููุงุช
idx_expenses_request (request_id, expense_date)

-- ููุงู ุงูุนูู
idx_work_tasks_request (request_id, status)
```

### ๐ ุชุญุณููุงุช ุงูุฃูุงู
- ุชุญููู `appointments_staff_secure` ุฅูู VIEW ูุน ุญูุงูุฉ ุจูุงูุงุช ุงูุนููุงุก
- ุฅุฎูุงุก `customer_phone` ู `customer_email` ุนู ุบูุฑ ุงููุฏูุฑูู
- ุงูุงุญุชูุงุธ ุจู `app_roles` ููุชูุงูู ูุน ุงูููุฏ ุงููุฏูู

### ๐ ุชูุซูู
- ุฅุถุงูุฉ ุชุนูููุงุช ุชูุถูุญูุฉ ููู ุฌุฏูู (COMMENT ON TABLE)
- ุชูุถูุญ ุงูุฌุฏุงูู ุงูู Deprecated

---

## ุงูุฃุซุฑ ุนูู ุงูุฃุฏุงุก

โ **ุชุญุณู ูุชููุน:**
- ุชูููู ุญุฌู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจูุณุจุฉ ~27%
- ุชุญุณูู ุณุฑุนุฉ ุงูุงุณุชุนูุงูุงุช ุจูุถู ุงูู Indexes ุงูุฌุฏูุฏุฉ
- ุชูููู ุชุนููุฏ ุงูู Schema
- ุชุญุณูู ูุถูุญ ุงูููุฏ

---

## ุงูุฅุฌุฑุงุกุงุช ุงููุทููุจุฉ

### โ ุชู ุชูููุฐูุง
- [x] ุญุฐู ุงูุฌุฏุงูู ุบูุฑ ุงููุณุชุฎุฏูุฉ
- [x] ุชุญููู appointments_staff_secure ุฅูู VIEW
- [x] ุฅูุดุงุก Indexes ูุญุณูุฉ
- [x] ุฅุถุงูุฉ ุงูุชูุซูู

### ๐ ูููุตุญ ุจูุง ูุงุญูุงู
- [ ] ุฏูุฌ service_categories ูุน categories (ุฅู ุฃููู)
- [ ] ูุฑุงุฌุนุฉ app_roles ูุฅุฒุงูุชูุง ุจุงููุงูู ุจุนุฏ ุงูุชุฃูุฏ ูู ุนุฏู ุงูุงุณุชุฎุฏุงู
- [ ] ุฏูุฌ maintenance_services ูุน services
- [ ] ุชูุธูู ุงูุจูุงูุงุช ุงููุฏููุฉ ูู audit_logs ู error_logs

---

## ุงูุฎูุงุตุฉ

โ **ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุขู:**
- ุฃูุซุฑ ูุธุงูุฉ ูุชูุธููุงู
- ุฃุณุฑุน ูู ุงูุฃุฏุงุก
- ุฃุณูู ูู ุงูุตูุงูุฉ
- ููุซูุฉ ุจุดูู ุฃูุถู
- ูุญููุฉ ุจุดูู ุฃูุถู

**ุงูุฌุฏุงูู ุงูุญุงููุฉ:** 45 ุฌุฏูู ุฃุณุงุณู + 5 views  
**ุงูุฌุฏุงูู ุงููุญุฐููุฉ:** 17 ุฌุฏูู  
**ูุณุจุฉ ุงูุชุญุณูู:** ~27% ุชูููู ูู ุงูุชุนููุฏ
