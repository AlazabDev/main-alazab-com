# ุฏููู ุงูุฎุทูุงุช ุงููุฏููุฉ ุงูููุงุฆูุฉ
## Manual Steps Guide for Production Deployment

**ุงูุชุงุฑูุฎ:** 26 ุฃูุชูุจุฑ 2025  
**ุงูุญุงูุฉ:** ุฎุทูุงุช ุฅูุฒุงููุฉ ูุจู ุงููุดุฑ ูู ุงูุฅูุชุงุฌ

---

## ๐ ุงูุฎุทูุฉ 1: ุชูุนูู ุญูุงูุฉ ูููุงุช ุงููุฑูุฑ ุงููุณุฑุจุฉ
### Leaked Password Protection

**ุงูููุช ุงููุชููุน:** 5 ุฏูุงุฆู  
**ุงูุฃูููุฉ:** ูุชูุณุทุฉ - ุนุงููุฉ  
**ุงูุญุงูุฉ ุงูุญุงููุฉ:** โ ุบูุฑ ููุนู

### ุงูุฎุทูุงุช ุงูุชูุตูููุฉ:

1. **ุงูุชุญ Supabase Dashboard**
   ```
   ๐ https://supabase.com/dashboard/project/YOUR_PROJECT_ID
   ```

2. **ุงูุชูู ุฅูู Authentication Settings**
   ```
   Navigation Path:
   Dashboard โ Authentication โ Settings
   ```

3. **ุงุจุญุซ ุนู Security Section**
   - ุงูุฒู ุฅูู ูุณู "Security"
   - ุงุจุญุซ ุนู ุฎูุงุฑ "Leaked Password Protection"

4. **ุชูุนูู ุงูุญูุงูุฉ**
   - โ ูู ุจุชูุนูู "Enable Leaked Password Protection"
   - ูุฐุง ุงูุฎูุงุฑ ูููุน ุงููุณุชุฎุฏููู ูู ุงุณุชุฎุฏุงู ูููุงุช ูุฑูุฑ ูุณุฑุจุฉ ุณุงุจูุงู

5. **ุญูุธ ุงูุชุบููุฑุงุช**
   - ุงุถุบุท ุนูู "Save" ุฃู "Update"

### ูุงุฐุง ููุนู ูุฐุง ุงูุฅุนุฏุงุฏุ
- ููุญุต ูููุงุช ุงููุฑูุฑ ุถุฏ ูุงุนุฏุฉ ุจูุงูุงุช HaveIBeenPwned
- ูููุน ุงููุณุชุฎุฏููู ูู ุงุณุชุฎุฏุงู ูููุงุช ูุฑูุฑ ุชู ุชุณุฑูุจูุง ูู ุฎุฑููุงุช ุณุงุจูุฉ
- ูุญุณู ุงูุฃูุงู ุงูุนุงู ููุชุทุจูู

### ุงูุชุญูู ูู ุงูุชูุนูู:
```bash
# ุญุงูู ุงูุชุณุฌูู ุจูููุฉ ูุฑูุฑ ุถุนููุฉ ูุซู "password123"
# ูุฌุจ ุฃู ุชุญุตู ุนูู ุฑุณุงูุฉ ุฎุทุฃ
```

---

## ๐๏ธ ุงูุฎุทูุฉ 2: ุชุฑููุฉ PostgreSQL
### PostgreSQL Version Upgrade

**ุงูููุช ุงููุชููุน:** 10-15 ุฏูููุฉ  
**ุงูุฃูููุฉ:** ุนุงููุฉ ุฌุฏุงู  
**ุงูุฅุตุฏุงุฑ ุงูุญุงูู:** 15.6  
**ุงูุฅุตุฏุงุฑ ุงููุทููุจ:** ุฃุญุฏุซ ุฅุตุฏุงุฑ ูุณุชูุฑ (15.x ุฃู 16.x)

### ุงูุฎุทูุงุช ุงูุชูุตูููุฉ:

#### 1. ุงูุชุญุถูุฑ (5 ุฏูุงุฆู):

**ุฃ. ุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ**
```sql
-- ูู Supabase Dashboard โ Database โ Backups
1. ุงูุชูู ุฅูู Database โ Backups
2. ุงููุฑ ุนูู "Create Backup"
3. ุฃุถู ูุตู: "Pre-PostgreSQL Upgrade Backup"
4. ุงูุชุธุฑ ุญุชู ุงูุชูุงู ุงููุณุฎ ุงูุงุญุชูุงุทู
```

**ุจ. ุงูุชุญูู ูู ุงูุงุชุตุงูุงุช ุงููุดุทุฉ**
```sql
-- ูู SQL Editor
SELECT count(*) as active_connections
FROM pg_stat_activity
WHERE datname = current_database();

-- ุฅุฐุง ูุงูุช ุงูุงุชุตุงูุงุช > 10ุ ุงูุชุธุฑ ููุช ูุงุฏุฆ
```

#### 2. ุงูุชุฑููุฉ (5 ุฏูุงุฆู):

**ุฃ. ุงูุชุญ Database Settings**
```
Navigation Path:
Dashboard โ Database โ Settings
```

**ุจ. ุงุจุญุซ ุนู PostgreSQL Version**
- ูู ูุณู "Configuration"
- ุงุจุญุซ ุนู "Postgres Version"

**ุฌ. ุจุฏุก ุงูุชุฑููุฉ**
```
1. ุงููุฑ ุนูู "Upgrade" ุฃู "Manage"
2. ุงุฎุชุฑ ุฃุญุฏุซ ุฅุตุฏุงุฑ ูุณุชูุฑ ูุชุงุญ
3. ุงูุฑุฃ ุงูุชุญุฐูุฑุงุช ุจุนูุงูุฉ
4. ุฃูุฏ ุงูุชุฑููุฉ
```

**ุฏ. ุงูุชุธุฑ ุงูุชูุงู ุงูุชุฑููุฉ**
- ูุฏ ุชุณุชุบุฑู 5-10 ุฏูุงุฆู
- **ูุง ุชุบูู** ูุงูุฐุฉ ุงููุชุตูุญ
- ุณูุชู ุฅุนุงุฏุฉ ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชููุงุฆูุงู

#### 3. ุงูุชุญูู ุจุนุฏ ุงูุชุฑููุฉ (5 ุฏูุงุฆู):

**ุฃ. ุงูุชุญูู ูู ุงูุฅุตุฏุงุฑ**
```sql
-- ูู SQL Editor
SELECT version();
-- ูุฌุจ ุฃู ูุธูุฑ ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ
```

**ุจ. ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช**
```sql
-- ูุญุต ุนุฏุฏ ุงูุฌุฏุงูู
SELECT count(*) FROM information_schema.tables 
WHERE table_schema = 'public';
-- ูุฌุจ ุฃู ูููู 45 ุฌุฏูู

-- ูุญุต ุนุฏุฏ ุงูุทูุจุงุช
SELECT count(*) FROM maintenance_requests;
-- ุชุฃูุฏ ูู ุฃู ุงูุจูุงูุงุช ููุฌูุฏุฉ
```

**ุฌ. ุงูุชุญูู ูู ุงูุฏูุงู (Functions)**
```sql
-- ูุญุต ุงูุฏูุงู
SELECT count(*) FROM pg_proc 
WHERE pronamespace = 'public'::regnamespace;
-- ูุฌุจ ุฃู ุชููู ุฌููุน ุงูุฏูุงู ููุฌูุฏุฉ
```

**ุฏ. ุงูุชุญูู ูู RLS Policies**
```sql
-- ูุญุต ุงูุณูุงุณุงุช
SELECT schemaname, tablename, policyname 
FROM pg_policies 
WHERE schemaname = 'public'
ORDER BY tablename;
-- ูุฌุจ ุฃู ุชููู ุฌููุน ุงูุณูุงุณุงุช ููุฌูุฏุฉ
```

**ูู. ุงุฎุชุจุงุฑ ุงูุชุทุจูู**
```
1. ุงูุชุญ ุงูุชุทุจูู
2. ุณุฌู ุงูุฏุฎูู
3. ุฃูุดุฆ ุทูุจ ุตูุงูุฉ ุฌุฏูุฏ
4. ุชุญูู ูู ุนุฑุถ ุงูุจูุงูุงุช
5. ุชุญูู ูู Edge Functions
```

### ูู ุญุงูุฉ ุญุฏูุซ ูุดุงูู:

**ุฅุฐุง ูุดูุช ุงูุชุฑููุฉ:**
```
1. ูุง ุชููู - ุงูุจูุงูุงุช ุขููุฉ
2. ุงูุชูู ุฅูู Database โ Backups
3. ุงุณุชุนุฏ ุขุฎุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ
4. ุงุชุตู ุจุฏุนู Supabase
```

**ุฅุฐุง ุธูุฑุช ุฃุฎุทุงุก ุจุนุฏ ุงูุชุฑููุฉ:**
```sql
-- ูุญุต ุณุฌู ุงูุฃุฎุทุงุก
SELECT * FROM error_logs 
ORDER BY created_at DESC 
LIMIT 20;

-- ูุญุต audit logs
SELECT * FROM audit_logs 
ORDER BY created_at DESC 
LIMIT 20;
```

---

## ๐ ุงูุฎุทูุฉ 3: ุงูุงุฎุชุจุงุฑ ุงูุดุงูู ุงูููุงุฆู

### ุงุฎุชุจุงุฑ ุฏูุฑุฉ ุงูุญูุงุฉ ุงููุงููุฉ:

#### 1. ุชูุฏูู ุทูุจ ุตูุงูุฉ (Customer)
```
โ ุงูุชูู ุฅูู /requests
โ ุงููุฑ ุนูู "ุทูุจ ุฌุฏูุฏ"
โ ุงููุฃ ุฌููุน ุงูุญููู ุงููุทููุจุฉ
โ ุฃุฑูู ุตูุฑุฉ
โ ุงุฎุชุฑ ุงููููุน ุนูู ุงูุฎุฑูุทุฉ
โ ุฃุฑุณู ุงูุทูุจ
```

#### 2. ูุฑุฒ ุงูุทูุจ (Dispatcher/Admin)
```
โ ุงูุชูู ุฅูู /requests
โ ุงูุชุญ ุงูุทูุจ ุงูุฌุฏูุฏ
โ ุชุญูู ูู ุงูุชูุงุตูู
โ ุญุฏุฏ ุงูุฃููููุฉ
โ ุงุฎุชุฑ ุงูุชุตููู
โ ุงููู ุฅูู "TRIAGED"
```

#### 3. ุชุนููู ููู (Admin/Manager)
```
โ ุงุฎุชุฑ ููู ูู ุงููุงุฆูุฉ
โ ุฃู ุงุณุชุฎุฏู "Find Nearest Vendor"
โ ุนูู ุงูููู
โ ุงููู ุฅูู "ASSIGNED"
```

#### 4. ุฌุฏููุฉ ููุนุฏ (Vendor)
```
โ ุณุฌู ุฏุฎูู ูู Vendor
โ ุงูุชูู ุฅูู /appointments
โ ุฃูุดุฆ ููุนุฏ ููุทูุจ
โ ุญุฏุฏ ุงูุชุงุฑูุฎ ูุงูููุช
โ ุงููู ุงูุทูุจ ุฅูู "SCHEDULED"
```

#### 5. ุงููุนุงููุฉ ูุงูุชูุฏูุฑ (Technician)
```
โ ุณุฌู ุฏุฎูู ูู Technician
โ ุงูุชุญ ุงูุทูุจ
โ ุฃุฏุฎู ุงูุชูุฏูุฑ ุงููุงูู
โ ุฃุถู ููุงุญุธุงุช ุงููุนุงููุฉ
โ ุงููู ุฅูู "INSPECTION"
```

#### 6. ููุงููุฉ ุงูุนููู (Customer)
```
โ ุณุฌู ุฏุฎูู ูู Customer
โ ุฑุงุฌุน ุงูุชูุฏูุฑ
โ ูุงูู ุฃู ุงุฑูุถ
โ ุฅุฐุง ูุงููุช: ููุชูู ุฅูู "IN_PROGRESS"
```

#### 7. ุชูููุฐ ุงูุนูู (Technician)
```
โ ุณุฌู ุฏุฎูู ูู Technician
โ ุงุจุฏุฃ ุงูุนูู
โ ุณุฌู ุงูุชูุฏู
โ ุนูุฏ ุงูุงูุชูุงุก: ุงููู ุฅูู "COMPLETED"
```

#### 8. ูุฑุงุฌุนุฉ ุงูุนููู (Customer)
```
โ ุณุฌู ุฏุฎูู ูู Customer
โ ุงูุชุญ ุงูุทูุจ ุงูููุชูู
โ ูุฏู ุชูููู (1-5 ูุฌูู)
โ ุฃุถู ุชุนููู
โ ุฃุฑุณู ุงูุชูููู
```

### ุงุฎุชุจุงุฑ ุงูุฃูุงู:

```sql
-- 1. ุงูุชุญูู ูู RLS
-- ุณุฌู ุฏุฎูู ูู Customer
SELECT * FROM maintenance_requests;
-- ูุฌุจ ุฃู ุชุฑู ุทูุจุงุชู ููุท

-- 2. ุงูุชุญูู ูู ุนุฒู ุงูุจูุงูุงุช
-- ุณุฌู ุฏุฎูู ุจุดุฑูุฉ ูุฎุชููุฉ
SELECT * FROM invoices;
-- ูุฌุจ ุฃู ุชุฑู ููุงุชูุฑ ุดุฑูุชู ููุท

-- 3. ุงูุชุญูู ูู ุญูุงูุฉ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
SELECT * FROM appointments_staff_secure;
-- ุงูููุธููู ูุฌุจ ุฃูุง ูุฑูุง ุจูุงูุงุช ุงูุงุชุตุงู ุงููุงููุฉ
```

### ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก:

```javascript
// ูู Console ุงููุชุตูุญ
console.time('Load Requests');
// ุงูุชูู ุฅูู ุตูุญุฉ ุงูุทูุจุงุช
// ูุฌุจ ุฃู ููุชูู ุงูุชุญููู ูู ุฃูู ูู 2 ุซุงููุฉ
console.timeEnd('Load Requests');
```

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

### ูุจู ุงููุดุฑ:
- [ ] ุชูุนูู Leaked Password Protection
- [ ] ุชุฑููุฉ PostgreSQL
- [ ] ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุญุฏูุซุฉ
- [ ] ุงุฎุชุจุงุฑ ุฏูุฑุฉ ุงูุญูุงุฉ ุงููุงููุฉ
- [ ] ุงุฎุชุจุงุฑ ุงูุฃูุงู
- [ ] ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก
- [ ] ูุฑุงุฌุนุฉ Secrets ูุงูู Environment Variables
- [ ] ุงูุชุญูู ูู CORS Settings
- [ ] ุงุฎุชุจุงุฑ Edge Functions
- [ ] ุงุฎุชุจุงุฑ ุงูุฅุดุนุงุฑุงุช ูุงูุจุฑูุฏ ุงูุฅููุชุฑููู

### ุจุนุฏ ุงููุดุฑ:
- [ ] ูุฑุงูุจุฉ Error Logs ููุฏุฉ 24 ุณุงุนุฉ
- [ ] ุงูุชุญูู ูู Audit Logs
- [ ] ูุฑุงูุจุฉ ุงูุฃุฏุงุก
- [ ] ุฌูุน feedback ูู ุงููุณุชุฎุฏููู ุงูุฃูุงุฆู
- [ ] ุชุญุฏูุซ ุงูุชูุซูู ุจูุงุกู ุนูู ุงูููุงุญุธุงุช

---

## ๐จ ุฌูุงุช ุงูุงุชุตุงู ูู ุญุงูุฉ ุงูุทูุงุฑุฆ

### ุฏุนู Supabase:
- ๐ง support@supabase.com
- ๐ https://supabase.com/docs
- ๐ฌ Discord Community

### ุงูููุงุฑุฏ ุงููููุฏุฉ:
- ๐ [Supabase Migration Guide](https://supabase.com/docs/guides/platform/migrating-and-upgrading-projects)
- ๐ [PostgreSQL Upgrade Guide](https://www.postgresql.org/docs/current/upgrading.html)
- ๐ [Security Best Practices](https://supabase.com/docs/guides/auth/auth-helpers/security)

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุชูููุช ุงูุชุฑููุฉ:**
   - ุงุฎุชุฑ ููุช ูุงุฏุฆ (ูุณุงุกู ุฃู ุนุทูุฉ ููุงูุฉ ุงูุฃุณุจูุน)
   - ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ูุณุชุฎุฏููู ูุดุทูู
   - ูุฏ ูุณุชุบุฑู 10-15 ุฏูููุฉ ูู downtime

2. **ุงููุณุฎ ุงูุงุญุชูุงุทู:**
   - ุฏุงุฆูุงู ูู ุจุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุจู ุฃู ุชุบููุฑ ูุจูุฑ
   - ุงุญุชูุธ ุจูุณุฎ ุงุญุชูุงุทูุฉ ูุชุนุฏุฏุฉ
   - ุงุฎุชุจุฑ ุงุณุชุนุงุฏุฉ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ

3. **ุงูุงุฎุชุจุงุฑ:**
   - ุงุฎุชุจุฑ ูู ุจูุฆุฉ staging ุฃููุงู ุฅู ุฃููู
   - ุงุฎุชุจุฑ ุฌููุน ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ
   - ุงุฎุชุจุฑ ูุน ูุณุชุฎุฏููู ุญูููููู

4. **ุงููุฑุงูุจุฉ:**
   - ุฑุงูุจ ุงูุฃุฏุงุก ุจุนุฏ ุงูุชุฑููุฉ
   - ุฑุงูุจ Error Logs
   - ูู ูุณุชุนุฏุงู ููุฑุฌูุน ูููุณุฎุฉ ุงูุณุงุจูุฉ ุฅุฐุง ูุฒู ุงูุฃูุฑ

---

**ุขุฎุฑ ุชุญุฏูุซ:** 26 ุฃูุชูุจุฑ 2025  
**ุงูุญุงูุฉ:** ุฌุงูุฒ ููุชูููุฐ  
**ุงูููุช ุงูุฅุฌูุงูู ุงููุชููุน:** 20-30 ุฏูููุฉ
